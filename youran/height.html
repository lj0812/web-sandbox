<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å²æœˆæ·±æµ…</title>
    <style>
        /* å¯¼å…¥å­—ä½“ - ä½¿ç”¨ä¼˜é›…çš„å­—ä½“ç»„åˆ */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Crimson+Text:wght@400;600&family=Covered+By+Your+Grace&display=swap');

        :root {
            /* æŸ”å’Œæ¸©é¦¨çš„é…è‰²æ–¹æ¡ˆ */
            --bg-cream: #faf8f3;
            --ruler-wood: #d4a574;
            --ruler-dark: #8b6f47;
            --text-soft: #5a4a3a;
            --mark-pink: #f4a6b8;
            --mark-coral: #ff8e9e;
            --mark-rose: #ffb5c5;
            --mark-lavender: #d4b5e8;
            --shadow-subtle: rgba(139, 111, 71, 0.15);
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', serif;
            background: linear-gradient(135deg, #faf8f3 0%, #f5f0e8 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 0;
            overflow-x: hidden;
            position: relative;
        }

        /* èƒŒæ™¯è£…é¥° - æŸ”å’Œçš„å‡ ä½•å›¾æ¡ˆ */
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(244, 166, 184, 0.03) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        body::after {
            content: '';
            position: fixed;
            bottom: -50%;
            left: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(212, 181, 232, 0.03) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            width: 100%;
            display: flex;
            align-items: flex-start;
            gap: 60px;
            height: 100vh;
        }

        .left-panel {
            flex: 0 0 450px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            height: 100%;
            padding: 40px 0;
            overflow: visible; /* å…è®¸è¯—å¥æº¢å‡ºæ˜¾ç¤º */
            position: relative;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .left-panel::-webkit-scrollbar {
            display: none;
        }


        .header {
            text-align: left;
            animation: fadeInDown 0.8s ease-out;
            margin-bottom: 40px;
        }

        .poetry-section {
            position: absolute;
            top: 160px; /* é¿å¼€æ ‡é¢˜åŒºåŸŸ */
            left: 0;
            width: 120%; /* æ‰©å±•åˆ°å³ä¾§ */
            height: calc(100% - 160px);
            pointer-events: none;
            overflow: visible; /* å…è®¸å†…å®¹æº¢å‡ºæ˜¾ç¤º */
            z-index: 15; /* ç¡®ä¿åœ¨å…¶ä»–å…ƒç´ ä¸Šæ–¹ */
            animation: fadeInDown 0.8s ease-out; /* å’Œæ ‡é¢˜åŒæ—¶å‡ºç° */
        }

        .star-verse {
            position: absolute;
            font-family: 'Covered By Your Grace', cursive;
            font-size: 20px; /* é€‚ä¸­çš„é»˜è®¤å­—ä½“ */
            color: var(--ruler-dark);
            opacity: 0.9; /* ç›´æ¥è®¾ç½®æœ€ç»ˆé€æ˜åº¦ */
            white-space: nowrap;
            pointer-events: none;
            letter-spacing: 1px;
            font-weight: 500; /* é€‚ä¸­å­—é‡ï¼Œæå‡å¯è¯»æ€§ */
        }


        /* ä¼˜é›…çš„éœ“è™¹é¢œè‰²å’Œæ•ˆæœ */
        .star-verse.neon-pink {
            color: #ff6b9d;
            text-shadow:
                0 0 2px #ff6b9d,
                0 0 5px rgba(255, 107, 157, 0.6),
                0 0 10px rgba(255, 107, 157, 0.3);
            animation: neonPulse 4s ease-in-out infinite alternate;
        }

        .star-verse.neon-blue {
            color: #4ecdc4;
            text-shadow:
                0 0 2px #4ecdc4,
                0 0 5px rgba(78, 205, 196, 0.6),
                0 0 10px rgba(78, 205, 196, 0.3);
            animation: neonFlicker 5s ease-in-out infinite;
        }

        .star-verse.neon-purple {
            color: #a855f7;
            text-shadow:
                0 0 2px #a855f7,
                0 0 5px rgba(168, 85, 247, 0.6),
                0 0 10px rgba(168, 85, 247, 0.3);
            animation: neonWave 6s ease-in-out infinite;
        }

        .star-verse.neon-orange {
            color: #ff9800;
            text-shadow:
                0 0 2px #ff9800,
                0 0 5px rgba(255, 152, 0, 0.6),
                0 0 10px rgba(255, 152, 0, 0.3);
            animation: neonGlow 4.5s ease-in-out infinite alternate;
        }

        .star-verse.neon-coral {
            color: #ff8a80;
            text-shadow:
                0 0 2px #ff8a80,
                0 0 5px rgba(255, 138, 128, 0.6),
                0 0 10px rgba(255, 138, 128, 0.3);
            animation: neonShimmer 3.5s ease-in-out infinite;
        }

        .star-verse.neon-cyan {
            color: #26c6da;
            text-shadow:
                0 0 2px #26c6da,
                0 0 5px rgba(38, 198, 218, 0.6),
                0 0 10px rgba(38, 198, 218, 0.3);
            animation: neonSpark 5.5s ease-in-out infinite;
        }

        .star-verse.neon-lime {
            color: #8bc34a;
            text-shadow:
                0 0 2px #8bc34a,
                0 0 5px rgba(139, 195, 74, 0.6),
                0 0 10px rgba(139, 195, 74, 0.3);
            animation: neonBreath 4.8s ease-in-out infinite alternate;
        }

        /* æŸ”å’Œçš„éœ“è™¹åŠ¨ç”»æ•ˆæœ */
        @keyframes neonPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.95; }
        }

        @keyframes neonFlicker {
            0%, 90%, 100% { opacity: 0.85; }
            10%, 80% { opacity: 0.95; }
        }

        @keyframes neonWave {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.9; }
        }

        @keyframes neonGlow {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.95; }
        }

        @keyframes neonShimmer {
            0%, 100% { opacity: 0.85; }
            50% { opacity: 0.95; }
        }

        @keyframes neonSpark {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.9; }
        }

        @keyframes neonBreath {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.9; }
        }

        .right-panel {
            flex: 1;
            height: 100vh;
            overflow-y: auto;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
            position: relative;
            z-index: 20; /* ç¡®ä¿èº«é«˜è®°å½•çš„äº¤äº’æ­£å¸¸ */

            /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE/Edge */
        }

        /* éšè— Webkit æµè§ˆå™¨çš„æ»šåŠ¨æ¡ */
        .right-panel::-webkit-scrollbar {
            display: none;
        }


        .ruler-container {
            position: relative;
            width: 180px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 6804px; /* åˆå§‹é«˜åº¦ï¼Œå°†ç”±JSåŠ¨æ€è°ƒæ•´ */
            animation: fadeInUp 1s ease-out 0.3s both;
        }


        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--text-soft);
            margin-bottom: 12px;
            letter-spacing: -0.02em;
        }

        .header p {
            font-family: 'Covered By Your Grace', cursive;
            font-size: 1.5rem;
            color: var(--ruler-dark);
            opacity: 0.7;
        }


        .ruler-marks {
            position: relative;
            height: 100%;
        }

        .mark {
            position: absolute;
            right: 20px;
            display: flex;
            align-items: center;
            transform-origin: right center;
        }

        .mark-line {
            height: 2px;
            background: var(--ruler-dark);
            transition: all 0.3s ease;
        }

        /* åˆ»åº¦çº¿é•¿åº¦ - æŒ‰è§„åˆ™è®¾ç½® */
        .mark.cm-10 .mark-line {
            width: 50px;
            height: 2.5px;
            background: var(--text-soft);
        }

        .mark.cm-5 .mark-line {
            width: 40px;
            height: 2px;
        }

        .mark.cm-1 .mark-line {
            width: 25px;
            height: 1.5px;
            opacity: 0.6;
        }

        /* å‡ºç”Ÿå‰çš„è™šçº¿æ ·å¼ */
        .mark.pre-birth .mark-line {
            background: repeating-linear-gradient(
                to right,
                var(--ruler-dark) 0,
                var(--ruler-dark) 4px,
                transparent 4px,
                transparent 8px
            );
            opacity: 0.4;
        }

        .mark.pre-birth.cm-10 .mark-line {
            background: repeating-linear-gradient(
                to right,
                var(--text-soft) 0,
                var(--text-soft) 4px,
                transparent 4px,
                transparent 8px
            );
            opacity: 0.4;
        }

        .mark-label {
            position: absolute;
            right: 60px;
            font-family: 'Crimson Text', serif;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-soft);
            white-space: nowrap;
        }

        /* èº«é«˜è®°å½•ç‚¹ */
        .height-record {
            position: absolute;
            right: 0;
            width: 100%;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .record-line {
            position: absolute;
            right: 20px;
            height: 4px;
            border-radius: 2px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .record-dot {
            position: absolute;
            right: 8px;
            width: 60px;
            height: 3px;
            background: white;
            border-top: 2px solid;
            border-bottom: 2px solid;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            transform: translateY(-1.5px);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        /* ä¸åŒè®°å½•çš„é¢œè‰² */
        .height-record:nth-child(1) .record-line { background: var(--mark-pink); width: 80px; }
        .height-record:nth-child(1) .record-dot { border-top-color: var(--mark-pink); border-bottom-color: var(--mark-pink); }

        .height-record:nth-child(2) .record-line { background: var(--mark-coral); width: 85px; }
        .height-record:nth-child(2) .record-dot { border-top-color: var(--mark-coral); border-bottom-color: var(--mark-coral); }

        .height-record:nth-child(3) .record-line { background: var(--mark-rose); width: 90px; }
        .height-record:nth-child(3) .record-dot { border-top-color: var(--mark-rose); border-bottom-color: var(--mark-rose); }

        .height-record:nth-child(4) .record-line { background: var(--mark-lavender); width: 95px; }
        .height-record:nth-child(4) .record-dot { border-top-color: var(--mark-lavender); border-bottom-color: var(--mark-lavender); }

        /* Hover æ•ˆæœ */
        .height-record:hover .record-line {
            width: 120px !important;
            filter: brightness(1.1);
        }

        .height-record:hover .record-dot {
            width: 80px;
            transform: translateY(-1.5px);
            filter: brightness(1.1);
        }

        /* ç…§ç‰‡å¼•å¯¼çº¿å’Œå¡ç‰‡ */
        .photo-tooltip {
            position: absolute;
            left: -320px;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
            z-index: 25; /* ç¡®ä¿åœ¨è¯—å¥ä¸Šæ–¹ */
        }

        .photo-tooltip.show-right {
            left: auto;
            right: -320px;
        }

        .height-record:hover .photo-tooltip {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
            left: -340px;
        }

        .height-record:hover .photo-tooltip.show-right {
            left: auto;
            right: -340px;
        }

        .height-record.active .photo-tooltip {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
            left: -340px;
        }

        .height-record.active .photo-tooltip.show-right {
            left: auto;
            right: -340px;
        }

        /* æ¿€æ´»çŠ¶æ€çš„è®°å½•ç‚¹é«˜äº® */
        .height-record.active .record-line {
            filter: brightness(1.2) saturate(1.2);
            box-shadow: 0 0 10px currentColor;
        }

        .height-record.active .record-dot {
            filter: brightness(1.2) saturate(1.2);
            box-shadow: 0 0 10px currentColor;
        }

        .guide-line {
            position: absolute;
            right: -20px;
            top: 50%;
            width: 20px;
            height: 2px;
            background: currentColor;
            transform: translateY(-50%);
            transition: all 0.3s ease;
        }

        .guide-line::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 50%;
            width: 0;
            height: 0;
            border-left: 6px solid currentColor;
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
            transform: translateY(-50%);
            transition: all 0.3s ease;
        }

        /* å³ä¾§æ˜¾ç¤ºæ—¶çš„å¼•å¯¼çº¿ */
        .photo-tooltip.show-right .guide-line {
            right: auto;
            left: -20px;
        }

        .photo-tooltip.show-right .guide-line::before {
            left: auto;
            right: -6px;
            border-left: none;
            border-right: 6px solid currentColor;
        }

        .photo-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            box-shadow:
                0 10px 40px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(0, 0, 0, 0.05);
            min-width: 280px;
            animation: cardFloat 0.5s ease-out;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }

        .photo-grid.single {
            grid-template-columns: 1fr;
        }

        .photo-item {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .photo-item:hover {
            transform: scale(1.05);
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡† */
        .photo-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .photo-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .photo-modal img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .photo-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .photo-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .photo-info {
            text-align: center;
        }

        .photo-info .date {
            font-family: 'Covered By Your Grace', cursive;
            font-size: 1.1rem;
            color: var(--ruler-dark);
            margin-bottom: 4px;
        }

        .photo-info .height-value {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-soft);
        }

        .photo-info .age {
            font-size: 0.9rem;
            color: var(--ruler-dark);
            opacity: 0.7;
            margin-top: 2px;
        }

        /* åŠ¨ç”» */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes cardFloat {
            0% {
                opacity: 0;
                transform: translateX(-20px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .left-panel {
                flex: 0 0 380px;
            }

            .poetry-section {
                width: 150%; /* æ›´å®½çš„æ˜¾ç¤ºåŒºåŸŸ */
            }

            .star-verse {
                font-size: 15px !important; /* ä¿æŒé€‚ä¸­å­—ä½“ */
            }

            .star-verse:nth-child(1) { font-size: 17px !important; }
            .star-verse:nth-child(2) { font-size: 15px !important; }
            .star-verse:nth-child(3) { font-size: 16px !important; }
            .star-verse:nth-child(4) { font-size: 15px !important; }
            .star-verse:nth-child(5) { font-size: 18px !important; }
            .star-verse:nth-child(6) { font-size: 14px !important; }
            .star-verse:nth-child(7) { font-size: 19px !important; }
            .star-verse:nth-child(8) { font-size: 15px !important; }
            .star-verse:nth-child(9) { font-size: 15px !important; }

            /* è°ƒæ•´éœ“è™¹æ•ˆæœå¼ºåº¦ */
            .star-verse.neon-pink,
            .star-verse.neon-blue,
            .star-verse.neon-purple,
            .star-verse.neon-orange,
            .star-verse.neon-coral,
            .star-verse.neon-cyan,
            .star-verse.neon-lime {
                text-shadow:
                    0 0 2px currentColor,
                    0 0 4px rgba(currentColor, 0.8),
                    0 0 8px rgba(currentColor, 0.4);
            }
        }

        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
                height: auto;
            }

            .left-panel {
                flex: none;
                height: 50vh;
                padding: 40px 20px;
                overflow: hidden;
                position: relative;
            }

            .header {
                text-align: center;
                margin-bottom: 30px;
            }

            .poetry-section {
                width: 130%;
                top: 120px;
            }

            .star-verse {
                font-size: 14px !important; /* å¹³æ¿ä¿æŒé€‚ä¸­å­—ä½“ */
            }

            .star-verse:nth-child(1) { font-size: 15px !important; }
            .star-verse:nth-child(2) { font-size: 13px !important; }
            .star-verse:nth-child(3) { font-size: 14px !important; }
            .star-verse:nth-child(4) { font-size: 13px !important; }
            .star-verse:nth-child(5) { font-size: 16px !important; }
            .star-verse:nth-child(6) { font-size: 12px !important; }
            .star-verse:nth-child(7) { font-size: 17px !important; }
            .star-verse:nth-child(8) { font-size: 13px !important; }
            .star-verse:nth-child(9) { font-size: 13px !important; }

            .right-panel {
                height: 80vh;
                padding: 20px;
            }

            .ruler-container {
                width: 140px;
            }

            .photo-tooltip {
                left: auto;
                right: 140px;
                top: 50%;
                transform: translateY(-50%);
            }

            .height-record:hover .photo-tooltip {
                left: auto;
                right: 160px;
            }

            .guide-line {
                right: auto;
                left: -20px;
            }

            .guide-line::before {
                left: auto;
                right: -6px;
                border-left: 6px solid currentColor;
                border-right: none;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }

            .left-panel {
                height: 40vh;
            }

            .poetry-section {
                width: 120%;
                top: 100px;
            }

            .star-verse {
                font-size: 12px !important; /* æ‰‹æœºç«¯é€‚ä¸­å­—ä½“ */
                opacity: 0.9 !important;
            }

            .star-verse:nth-child(1) { font-size: 13px !important; }
            .star-verse:nth-child(2) { font-size: 11px !important; }
            .star-verse:nth-child(3) { font-size: 12px !important; }
            .star-verse:nth-child(4) { font-size: 11px !important; }
            .star-verse:nth-child(5) { font-size: 14px !important; }
            .star-verse:nth-child(6) { font-size: 11px !important; }
            .star-verse:nth-child(7) { font-size: 15px !important; }
            .star-verse:nth-child(8) { font-size: 11px !important; }
            .star-verse:nth-child(9) { font-size: 12px !important; }

            /* å°å±å¹•éœ“è™¹æ•ˆæœ */
            .star-verse.neon-pink,
            .star-verse.neon-blue,
            .star-verse.neon-purple,
            .star-verse.neon-orange,
            .star-verse.neon-coral,
            .star-verse.neon-cyan,
            .star-verse.neon-lime {
                text-shadow:
                    0 0 1px currentColor,
                    0 0 3px rgba(currentColor, 0.6);
            }

            .photo-tooltip {
                left: 50%;
                right: auto;
                top: auto;
                bottom: 120%;
                transform: translateX(-50%);
            }

            .height-record:hover .photo-tooltip {
                left: 50%;
                right: auto;
                bottom: 130%;
            }

            .guide-line {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="left-panel">
            <div class="header">
                <h1>å²æœˆæ·±æµ…</h1>
                <p>æ¯ä¸€åˆ»åº¦éƒ½è—ç€æ•…äº‹</p>
            </div>

            <div class="poetry-section" id="poetryStars">
                <div class="star-verse neon-pink" style="top: 15%; left: 10%; font-size: 22px;">å°ä¾„åé˜¿å®œï¼Œæœªå¾—ä¸‰å°ºé•¿</div>
                <div class="star-verse neon-blue" style="top: 25%; left: 55%; font-size: 19px;">æ˜æœå¼„æ¢³å°ï¼Œé»›çœ‰ç±»æ‰«è¿¹</div>
                <div class="star-verse neon-purple" style="top: 20%; left: 80%; font-size: 21px;">æµ“æœ±è¡ä¸¹å”‡ï¼Œé»„å»çƒ‚æ¼«èµ¤</div>
                <div class="star-verse neon-orange" style="top: 35%; left: 20%; font-size: 20px;">å½“æ—¶å„¿å¥³é½ç¡é¢</div>
                <div class="star-verse neon-coral" style="top: 45%; left: 65%; font-size: 23px;">ä»Šæ—¥ç›¸çœ‹ä¿±å¤´ç™½</div>
                <div class="star-verse neon-cyan" style="top: 40%; left: 5%; font-size: 18px;">æ˜”æ—¥è¿˜éœ€ä¿¯èº«å¯¹è¯</div>
                <div class="star-verse neon-lime" style="top: 30%; left: 35%; font-size: 24px;">ä»Šæœå·²ä¸ä½ é½è‚©</div>
                <div class="star-verse neon-orange" style="top: 55%; left: 40%; font-size: 20px;">ç”œèœœçš„æ€…æƒ˜</div>
                <div class="star-verse neon-cyan" style="top: 50%; left: 85%; font-size: 19px;">æ—¶å…‰çš„åŒå‘æµé€</div>
            </div>
        </div>

        <div class="right-panel">
            <div class="ruler-container">
                <div class="ruler-marks" id="rulerMarks"></div>
            </div>
        </div>
    </div>

    <script>
        // æ£€æµ‹å±å¹•å‚æ•°å¹¶è®¡ç®—çœŸå®1:1æ¯”ä¾‹
        function calculatePixelsPerCm() {
            const dpr = window.devicePixelRatio || 1;

            // åŸºå‡†å€¼è°ƒæ•´ï¼šæé«˜åŸºå‡†å€¼ä»¥é€‚åº”å®é™…æƒ…å†µ
            const basePxPerCm = 42; // ä»37.8è°ƒæ•´åˆ°42

            // é’ˆå¯¹ä¸åŒè®¾å¤‡ç±»å‹çš„è°ƒæ•´
            let adjustmentFactor = 1;

            // æ£€æµ‹è®¾å¤‡ç±»å‹
            const isMac = /Mac|iPod|iPhone|iPad/.test(navigator.platform);

            if (isMac && dpr >= 2) {
                // Macå†…ç½®Retinaå±ï¼šéœ€è¦å¤§å¹…æ”¾å¤§ï¼ˆ5cmæ˜¾ç¤ºä¸º4cmï¼Œéœ€è¦1.25å€ï¼‰
                adjustmentFactor = 1.44;
            } else if (dpr === 1) {
                // å¤–æ¥æ˜¾ç¤ºå™¨ï¼šéœ€è¦é€‚åº¦æ”¾å¤§ï¼ˆ5cmæ˜¾ç¤ºä¸º4.5cmï¼Œéœ€è¦1.11å€ï¼‰
                adjustmentFactor = 1.0;
            } else {
                // å…¶ä»–æƒ…å†µ
                adjustmentFactor = 1;
            }

            const calculatedPx = basePxPerCm * adjustmentFactor;

            console.log('å±å¹•æ£€æµ‹ä¿¡æ¯:');
            console.log('- æ“ä½œç³»ç»Ÿ:', isMac ? 'macOS' : 'å…¶ä»–');
            console.log('- è®¾å¤‡åƒç´ æ¯”:', dpr);
            console.log('- è°ƒæ•´å› å­:', adjustmentFactor.toFixed(2));
            console.log('- æœ€ç»ˆåƒç´ /å˜ç±³:', calculatedPx.toFixed(2));

            return calculatedPx;
        }

        // é…ç½®å‚æ•° - åŠ¨æ€è°ƒæ•´1:1çœŸå®æ¯”ä¾‹
        const config = {
            minHeight: 0,   // æœ€å°é«˜åº¦ï¼ˆå˜ç±³ï¼‰- ä»0å¼€å§‹
            maxHeight: 180, // æœ€å¤§é«˜åº¦ï¼ˆå˜ç±³ï¼‰
            birthHeight: 50, // å‡ºç”Ÿèº«é«˜ï¼ˆå˜ç±³ï¼‰
            pixelsPerCm: calculatePixelsPerCm(), // åŠ¨æ€è®¡ç®—æ¯å˜ç±³å¯¹åº”åƒç´ æ•°
            get rulerHeight() {
                return (this.maxHeight - this.minHeight) * this.pixelsPerCm;
            }
        };

        // ç¤ºä¾‹èº«é«˜è®°å½•æ•°æ®
        const heightRecords = [
            {
                height: 50,
                date: 'å‡ºç”Ÿ',
                age: 'æ–°ç”Ÿå„¿',
                photos: ['ğŸ‘¶'] // è¿™é‡Œç”¨emojiä»£æ›¿ï¼Œå®é™…ä½¿ç”¨æ—¶æ›¿æ¢ä¸ºçœŸå®å›¾ç‰‡URL
            },
            {
                height: 75,
                date: '2023å¹´7æœˆ',
                age: '6ä¸ªæœˆ',
                photos: ['ğŸ‘§']
            },
            {
                height: 85,
                date: '2024å¹´1æœˆ',
                age: '1å²',
                photos: ['ğŸ€', 'ğŸŒ¸']
            },
            {
                height: 95,
                date: '2024å¹´7æœˆ',
                age: '1å²åŠ',
                photos: ['ğŸŒº', 'ğŸ¦‹', 'ğŸ¨']
            }
        ];

        // å°†é«˜åº¦ï¼ˆå˜ç±³ï¼‰è½¬æ¢ä¸ºåƒç´ ä½ç½® - ä½¿ç”¨1:1çœŸå®æ¯”ä¾‹
        function heightToPx(heightCm) {
            // ä»é¡¶éƒ¨å¼€å§‹è®¡ç®—ä½ç½®ï¼Œæœ€é«˜çš„èº«é«˜æ˜¾ç¤ºåœ¨é¡¶éƒ¨
            return (config.maxHeight - heightCm) * config.pixelsPerCm;
        }

        // ç”Ÿæˆåˆ»åº¦çº¿
        function generateRulerMarks() {
            const container = document.getElementById('rulerMarks');

            for (let cm = config.minHeight; cm <= config.maxHeight; cm++) {
                const mark = document.createElement('div');
                mark.className = 'mark';

                // å‡ºç”Ÿå‰çš„åˆ»åº¦æ·»åŠ è™šçº¿æ ·å¼
                if (cm < config.birthHeight) {
                    mark.classList.add('pre-birth');
                }

                // åˆ¤æ–­åˆ»åº¦ç±»å‹
                if (cm % 10 === 0) {
                    mark.classList.add('cm-10');
                    mark.innerHTML = `
                        <div class="mark-line"></div>
                        <div class="mark-label">${cm}cm</div>
                    `;
                } else if (cm % 5 === 0) {
                    mark.classList.add('cm-5');
                    mark.innerHTML = `<div class="mark-line"></div>`;
                } else {
                    mark.classList.add('cm-1');
                    mark.innerHTML = `<div class="mark-line"></div>`;
                }

                mark.style.top = heightToPx(cm) + 'px';
                container.appendChild(mark);
            }
        }

        // ç”Ÿæˆèº«é«˜è®°å½•
        function generateHeightRecords() {
            const container = document.getElementById('rulerMarks');

            heightRecords.forEach((record, index) => {
                const recordEl = document.createElement('div');
                recordEl.className = 'height-record';
                recordEl.style.top = heightToPx(record.height) + 'px';

                // åˆ¤æ–­å¼•å¯¼çº¿æ˜¾ç¤ºæ–¹å‘ï¼šæ£€æŸ¥æ˜¯å¦ä¸å…¶ä»–è®°å½•å¤ªè¿‘
                const showRight = shouldShowRight(record.height, index);
                const tooltipClass = showRight ? 'photo-tooltip show-right' : 'photo-tooltip';

                // åˆ›å»ºç…§ç‰‡ç½‘æ ¼
                const photoGridClass = record.photos.length === 1 ? 'photo-grid single' : 'photo-grid';
                const photoItems = record.photos.map((photo, photoIndex) => `
                    <div class="photo-item" onclick="event.stopPropagation(); showPhotoModal('${photo}', '${record.date}', '${record.height}cm')" data-photo="${photo}">${photo}</div>
                `).join('');

                recordEl.innerHTML = `
                    <div class="record-line"></div>
                    <div class="record-dot"></div>
                    <div class="${tooltipClass}" style="color: ${getRecordColor(index)}">
                        <div class="guide-line"></div>
                        <div class="photo-card">
                            <div class="${photoGridClass}">
                                ${photoItems}
                            </div>
                            <div class="photo-info">
                                <div class="date">${record.date}</div>
                                <div class="height-value">${record.height}cm</div>
                                <div class="age">${record.age}</div>
                            </div>
                        </div>
                    </div>
                `;

                // æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œè®©å¼•å¯¼å†…å®¹å¸¸æ˜¾
                recordEl.addEventListener('click', function(e) {
                    // é˜»æ­¢äº‹ä»¶å†’æ³¡
                    e.stopPropagation();

                    // å¦‚æœç‚¹å‡»çš„æ˜¯å›¾ç‰‡ï¼Œä¸è¦æ”¹å˜æ¿€æ´»çŠ¶æ€
                    if (e.target.classList.contains('photo-item')) {
                        return;
                    }

                    // ç§»é™¤å…¶ä»–æ´»è·ƒçŠ¶æ€
                    document.querySelectorAll('.height-record.active').forEach(el => {
                        el.classList.remove('active');
                    });
                    // æ·»åŠ å½“å‰æ´»è·ƒçŠ¶æ€
                    this.classList.add('active');
                });

                container.appendChild(recordEl);
            });
        }

        // åˆ¤æ–­æ˜¯å¦åº”è¯¥åœ¨å³ä¾§æ˜¾ç¤ºå¼•å¯¼çº¿
        function shouldShowRight(currentHeight, currentIndex) {
            // æ£€æŸ¥ä¸Šä¸‹5cmèŒƒå›´å†…æ˜¯å¦æœ‰å…¶ä»–è®°å½•
            const threshold = 5; // 5cmé˜ˆå€¼

            for (let i = 0; i < heightRecords.length; i++) {
                if (i === currentIndex) continue;
                const otherHeight = heightRecords[i].height;
                if (Math.abs(currentHeight - otherHeight) <= threshold) {
                    // å¦‚æœå½“å‰è®°å½•çš„èº«é«˜æ›´é«˜ï¼Œæ˜¾ç¤ºåœ¨å³ä¾§
                    return currentHeight > otherHeight;
                }
            }
            return false; // é»˜è®¤æ˜¾ç¤ºåœ¨å·¦ä¾§
        }

        // æ˜¾ç¤ºå›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡†
        function showPhotoModal(photo, date, height) {
            // åˆ›å»ºæ¨¡æ€æ¡†ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
            let modal = document.getElementById('photoModal');
            if (!modal) {
                modal = document.createElement('div');
                modal.id = 'photoModal';
                modal.className = 'photo-modal';
                modal.innerHTML = `
                    <img src="" alt="">
                    <button class="photo-modal-close" onclick="closePhotoModal()">Ã—</button>
                `;
                document.body.appendChild(modal);
            }

            // è®¾ç½®å›¾ç‰‡å†…å®¹ï¼ˆè¿™é‡Œç”¨emojiæ¼”ç¤ºï¼Œå®é™…ä½¿ç”¨æ—¶æ›¿æ¢ä¸ºçœŸå®å›¾ç‰‡URLï¼‰
            const img = modal.querySelector('img');
            img.src = ''; // è¿™é‡Œåº”è¯¥æ˜¯çœŸå®çš„å›¾ç‰‡URL
            img.alt = `${date} - ${height}`;

            // å¯¹äºemojiï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„æ˜¾ç¤ºæ–¹å¼
            if (photo.length <= 2) { // åˆ¤æ–­æ˜¯emoji
                img.style.display = 'none';
                let emojiDiv = modal.querySelector('.emoji-display');
                if (!emojiDiv) {
                    emojiDiv = document.createElement('div');
                    emojiDiv.className = 'emoji-display';
                    emojiDiv.style.cssText = `
                        font-size: 200px;
                        text-align: center;
                        background: white;
                        border-radius: 20px;
                        padding: 40px;
                        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
                    `;
                    modal.insertBefore(emojiDiv, modal.querySelector('button'));
                }
                emojiDiv.textContent = photo;
                emojiDiv.style.display = 'block';
            } else {
                img.style.display = 'block';
                const emojiDiv = modal.querySelector('.emoji-display');
                if (emojiDiv) emojiDiv.style.display = 'none';
            }

            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            modal.classList.add('show');
        }

        // å…³é—­å›¾ç‰‡æ¨¡æ€æ¡†
        function closePhotoModal() {
            const modal = document.getElementById('photoModal');
            if (modal) {
                modal.classList.remove('show');
            }
        }

        // è·å–è®°å½•é¢œè‰²
        function getRecordColor(index) {
            const colors = ['#f4a6b8', '#ff8e9e', '#ffb5c5', '#d4b5e8'];
            return colors[index % colors.length];
        }

        // ä½¿ç”¨CSSæ§åˆ¶çš„å¹³æ»‘æ»šåŠ¨åˆ°æœ€æ–°èº«é«˜è®°å½•
        function scrollToLatestRecord() {
            if (heightRecords.length === 0) return;

            // è·å–æœ€æ–°çš„èº«é«˜è®°å½•ï¼ˆæ•°ç»„æœ€åä¸€ä¸ªï¼‰
            const latestRecord = heightRecords[heightRecords.length - 1];
            const targetHeight = latestRecord.height;

            // è®¡ç®—ç›®æ ‡ä½ç½®ï¼ˆè·ç¦»é¡¶éƒ¨çš„åƒç´ ï¼‰
            const targetPosition = heightToPx(targetHeight);

            // è·å–å³ä¾§æ»šåŠ¨å®¹å™¨
            const rightPanel = document.querySelector('.right-panel');
            if (!rightPanel) return;

            // è®¡ç®—éœ€è¦æ»šåŠ¨åˆ°çš„ä½ç½®ï¼ˆè®©ç›®æ ‡è®°å½•æ˜¾ç¤ºåœ¨è§†çª—ä¸­å¤®ï¼‰
            const viewportHeight = rightPanel.clientHeight;
            const scrollTarget = targetPosition - (viewportHeight / 2);

            // ç¡®ä¿æ»šåŠ¨ä½ç½®åœ¨æœ‰æ•ˆèŒƒå›´å†…
            const maxScroll = rightPanel.scrollHeight - viewportHeight;
            const finalScrollTarget = Math.max(0, Math.min(scrollTarget, maxScroll));

            // è®¾ç½®åŠ¨ç”»å‚æ•°
            const startScroll = rightPanel.scrollTop;
            const targetScroll = finalScrollTarget;
            let startTime = null;

            function animateScroll(timestamp) {
                if (!startTime) startTime = timestamp;
                const progress = Math.min((timestamp - startTime) / 2000, 1); // 2ç§’åŠ¨ç”»

                // ä½¿ç”¨cubic-bezier(.45,.1,.45,.9)æ›²çº¿è®¡ç®—å½“å‰ä½ç½®
                const easedProgress = cubicBezier(0.45, 0.1, 0.45, 0.9, progress);
                const currentScrollPos = startScroll + (targetScroll - startScroll) * easedProgress;

                rightPanel.scrollTop = currentScrollPos;

                if (progress < 1) {
                    requestAnimationFrame(animateScroll);
                }
            }

            // å¯åŠ¨åŠ¨ç”»
            requestAnimationFrame(animateScroll);

            console.log('CSSæ§åˆ¶æ»šåŠ¨åˆ°æœ€æ–°è®°å½•:', latestRecord.height + 'cm', 'ç›®æ ‡ä½ç½®:', finalScrollTarget + 'px');
        }

        // Cubic Bezier ç¼“åŠ¨å‡½æ•°å®ç°
        function cubicBezier(x1, y1, x2, y2, t) {
            function sampleCurveX(t) {
                return ((1 - 3 * x2 + 3 * x1) * t + (3 * x2 - 6 * x1)) * t + (3 * x1) * t;
            }

            function sampleCurveY(t) {
                return ((1 - 3 * y2 + 3 * y1) * t + (3 * y2 - 6 * y1)) * t + (3 * y1) * t;
            }

            function sampleCurveDerivativeX(t) {
                return (3 * (1 - 3 * x2 + 3 * x1) * t + 2 * (3 * x2 - 6 * x1)) * t + (3 * x1);
            }

            function solveCurveX(x) {
                let t0, t1, t2, x2, d2;
                let i;

                // First try a few iterations of Newton's method -- normally very fast.
                for (t2 = x, i = 0; i < 8; i++) {
                    x2 = sampleCurveX(t2) - x;
                    if (Math.abs(x2) < 1e-6) return t2;
                    d2 = sampleCurveDerivativeX(t2);
                    if (Math.abs(d2) < 1e-6) break;
                    t2 = t2 - x2 / d2;
                }

                // Fall back to the bisection method for reliability.
                t0 = 0;
                t1 = 1;
                t2 = x;

                if (t2 < t0) return t0;
                if (t2 > t1) return t1;

                while (t0 < t1) {
                    x2 = sampleCurveX(t2);
                    if (Math.abs(x2 - x) < 1e-6) return t2;
                    if (x > x2) t0 = t2;
                    else t1 = t2;
                    t2 = (t1 - t0) * 0.5 + t0;
                }

                return t2;
            }

            return sampleCurveY(solveCurveX(t));
        }


        // åˆå§‹åŒ–
        function init() {
            // åŠ¨æ€è®¾ç½®å®¹å™¨é«˜åº¦
            const rulerContainer = document.querySelector('.ruler-container');
            if (rulerContainer) {
                rulerContainer.style.minHeight = config.rulerHeight + 'px';
            }

            generateRulerMarks();
            generateHeightRecords();


            // æ·»åŠ å…¨å±€ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»ç©ºç™½åŒºåŸŸå–æ¶ˆæ¿€æ´»çŠ¶æ€
            document.addEventListener('click', function(e) {
                const heightRecord = e.target.closest('.height-record');
                const photoModal = e.target.closest('.photo-modal');

                // å¦‚æœç‚¹å‡»çš„ä¸æ˜¯èº«é«˜è®°å½•æˆ–æ¨¡æ€æ¡†
                if (!heightRecord && !photoModal) {
                    // ç§»é™¤æ‰€æœ‰æ´»è·ƒçŠ¶æ€
                    document.querySelectorAll('.height-record.active').forEach(el => {
                        el.classList.remove('active');
                    });
                }

                // å¦‚æœç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯ï¼Œå…³é—­æ¨¡æ€æ¡†
                if (e.target.classList.contains('photo-modal')) {
                    closePhotoModal();
                }
            });

            // æ·»åŠ é”®ç›˜äº‹ä»¶ï¼Œæ”¯æŒESCé”®å…³é—­æ¨¡æ€æ¡†
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closePhotoModal();
                }
            });

            // å»¶è¿Ÿ1ç§’åæ»šåŠ¨åˆ°æœ€æ–°è®°å½•
            setTimeout(() => {
                scrollToLatestRecord();
            }, 1000);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>